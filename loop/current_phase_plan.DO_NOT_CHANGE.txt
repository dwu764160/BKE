DO NOT CHANGE — CURRENT PHASE PLAN (Detailed Tasks)

Purpose:
- This plain-text companion to `current_phase_plan.docx` contains the active phase's
  granular tasks and checkboxes for automation-friendly status tracking. It is the
  single source of truth for task-level automation and model handoffs.

Format rules:
- Each task line begins with a checkbox: "[ ]" incomplete or "[x]" complete.
- Tasks may include one-line contexts or a short command in parentheses for reproducibility.
- Do not change existing task text except for the checkbox marker when marking progress.

Required fields per task (if applicable):
- Task Title: concise description.
- Owner: (optional) who is responsible.
- Command: (optional) exact shell or python command to run.
- Notes: (optional) short clarifying sentence.

Example:
[ ] Run unit tests (owner: QA)
    Command: pytest tests/test_module.py::test_function
    Notes: Fix failing assertion in `module.py` if present.

When adding new tasks, append them at the end of the file to preserve historical order.

DO NOT CHANGE this file's checkbox format or existing task wording; automation relies on
these exact tokens to parse and advance workflow.

End of file — DO NOT CHANGE

---------------------------------------------CONTENTS STARTS HERE-----------------------------------------
[x] Stream A: Compute Box Score Profile Stats
    Command: python src/data_compute/compute_player_profiles.py
    Notes: Aggregates PBP events (PTS, AST, REB, TOV) correctly. Validated against B-Ref.

[x] Stream A: Compute Linear Metrics (WS, BPM)
    Command: python src/data_compute/compute_linear_metrics.py
    Notes: ✅ COMPLETE - All metrics passing validation:
           WS MAE: 0.29, OWS MAE: 0.65, DWS MAE: 0.71, BPM MAE: 0.89, VORP MAE: 0.55
           Implemented full B-REF BPM 2.0 with position/role adjustment.

[x] Stream A: Compute xRAPM (Regression Metric)
    Command: python src/data_compute/compute_xrapm.py
    Notes: ✅ COMPLETE - xRAPM with BPM Bayesian prior.
           Validation: MAE 1.14, Correlation 0.564 vs xRAPM.com benchmark.
           Bigs: MAE 0.92, Corr 0.91 (excellent). Wings: MAE 1.48, Corr 0.12 (needs work).
           Data: 100% coverage (1680 player-seasons), production grade.

[x] Stream B: Fetch Tracking & Style Data
    Command: python src/data_fetch/fetch_tracking_data.py
    Notes: ✅ COMPLETE - All tracking data fetched:
           11 Synergy Offensive playtypes, 7 Defensive playtypes
           9 Tracking metrics (Drives, Passing, Possessions, CatchShoot, etc.)
           3 Defense tracking files. All seasons 2022-25.

[x] Stream C: Player Archetype Classification (Active)
    Command: python src/data_compute/compute_player_archetypes.py
    Notes: ✅ COMPLETE - 1,680 player-seasons classified into 7 offensive archetypes.
           Ball Dominant Creator, Perimeter Scorer, Interior Scorer, Off-Ball Finisher,
           Off-Ball Movement Shooter, Off-Ball Stationary Shooter, Rotation Piece.
           Validated: Luka→BDC, Curry→Perimeter, Wemby→Interior.

[x] Stream C: xRAPM Collinearity Improvement
    Command: python src/data_compute/compute_xrapm_improved.py
    Notes: ✅ COMPLETE - Fixed collinearity for Wings/duos.
           Correlation improved: 0.582→0.668 overall, 0.544→0.645 for collinear players.
           MAE reduced 44.9%. Output: player_xrapm_v2.csv (1,432 player-seasons).

[x] Stream C: Defensive Matchup Data
    Command: python src/data_fetch/fetch_matchup_data.py
    Notes: ✅ COMPLETE - 414,407 matchups fetched, versatility/difficulty computed.

[x] Stream C: Defensive Archetype Classification (Revision Needed)
    Command: python src/data_compute/compute_defensive_archetypes_v2.py
    Notes: ✅ REVISED - Reduced from 9 to 5 archetypes with percentile-based thresholds:
           POA Defender, Rotation Defender, Off-Ball Defender, Switchable Defender, Rim Protector.
           Distribution: Rotation 43%, Off-Ball 16%, POA 16%, Rim 12%, Switchable 11%.
           Validation: Gobert→Rim, Wemby→Rim, Jrue→POA, Trae→Off-Ball(Liability). Output: defensive_archetypes_v2.parquet.

[x] Stream C: Player Archetype Viewer
    Command: python app/player_archetype_viewer.py
    Notes: ✅ COMPLETE - Interactive HTML viewer at app/player_archetypes.html
           Shows all players with offensive/defensive archetypes and reasoning.
           Supports search/filter by name, archetype, season.

[ ] Stream D: Player Profile System Enhancement
    Command: TBD
    Notes: Current system: data/player_team_profiles.db (SQLite) with 686 players.
           Fields: player_id, full_name, team_id, position, age, height, weight, wingspan (0% filled), experience.
           PLAN: Add archetypes, career stats, salary data. Export to enhanced profile format.

[ ] Stream D: Archetype Evaluation & Model Integration
    Command: python src/modeling/evaluate_players.py
    Notes: Merge archetypes with xRAPM, validate classifications, prepare for prediction models.